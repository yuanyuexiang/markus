# ç›¸ä¼¼åº¦åº¦é‡æ–¹å¼è¯´æ˜

## ç®—æ³•å¯¹æ¯”

### ğŸ“ SigNet (ç­¾åéªŒè¯)
- **åº¦é‡æ–¹å¼**: æ¬§æ°è·ç¦» (Euclidean Distance)
- **ç‰¹å¾**: 2048ç»´å‘é‡
- **è®¡ç®—å…¬å¼**: 
  ```python
  distance = np.linalg.norm(feat1 - feat2)
  similarity = np.exp(-distance / 0.15)
  ```
- **è¾“å‡ºæŒ‡æ ‡**:
  - âœ… ç›¸ä¼¼åº¦ (0-1)
  - âœ… æ¬§æ°è·ç¦» (æ•°å€¼)
  - âœ… SSIM ç»“æ„ç›¸ä¼¼åº¦
  - âœ… é¢„å¤„ç†ç®¡çº¿ç±»å‹

### ğŸ¨ CLIP (å°ç« éªŒè¯)
- **åº¦é‡æ–¹å¼**: ä½™å¼¦ç›¸ä¼¼åº¦ (Cosine Similarity)
- **ç‰¹å¾**: L2å½’ä¸€åŒ–çš„åµŒå…¥å‘é‡
- **è®¡ç®—å…¬å¼**:
  ```python
  # L2å½’ä¸€åŒ–
  feat1 = feat1 / feat1.norm()
  feat2 = feat2 / feat2.norm()
  # ä½™å¼¦ç›¸ä¼¼åº¦
  similarity = F.cosine_similarity(feat1, feat2)
  ```
- **è¾“å‡ºæŒ‡æ ‡**:
  - âœ… ç›¸ä¼¼åº¦ (0-1)
  - âŒ æ¬§æ°è·ç¦» (ä¸é€‚ç”¨ï¼Œæ˜¾ç¤ºN/A)

## ä¸ºä»€ä¹ˆä¸åŒï¼Ÿ

### SigNet - æ¬§æ°è·ç¦»
- **ä¼˜åŠ¿**: å¯¹ç¬”è¿¹ç»†èŠ‚æ•æ„Ÿï¼Œèƒ½æ•æ‰ç»†å¾®å·®å¼‚
- **é€‚ç”¨**: ç­¾åéªŒè¯ï¼ˆåŒä¸€ä¸ªäººæ‰‹å†™ç­¾åçš„å¾®å°å˜åŒ–ï¼‰
- **ç‰¹ç‚¹**: è·ç¦»è¶Šå°è¶Šç›¸ä¼¼ï¼Œ0ä¸ºå®Œå…¨ç›¸åŒ

### CLIP - ä½™å¼¦ç›¸ä¼¼åº¦  
- **ä¼˜åŠ¿**: å¯¹å›¾åƒæ•´ä½“è¯­ä¹‰ç†è§£å¥½ï¼ŒæŠ—å‡ ä½•å˜æ¢
- **é€‚ç”¨**: å°ç« å›¾ç« éªŒè¯ï¼ˆæ›´å…³æ³¨æ•´ä½“è§†è§‰ç›¸ä¼¼æ€§ï¼‰
- **ç‰¹ç‚¹**: å€¼åŸŸ[-1, 1]ï¼Œ1ä¸ºå®Œå…¨ç›¸åŒï¼Œ0ä¸ºæ— å…³ï¼Œ-1ä¸ºå®Œå…¨ç›¸å

## API å“åº”å·®å¼‚

### ç­¾åéªŒè¯å“åº”
```json
{
  "algorithm": "SigNet[classical]",
  "similarity": 1.0,
  "euclidean_distance": 0.0,      // âœ… æœ‰å€¼
  "ssim": 0.9266,
  "signet_pipeline": "classical",
  "confidence": "high"
}
```

### å°ç« éªŒè¯å“åº”
```json
{
  "algorithm": "CLIP",
  "similarity": 0.996,
  "euclidean_distance": null,     // âŒ null (å‰ç«¯æ˜¾ç¤ºN/A)
  "ssim": null,
  "signet_pipeline": null,
  "confidence": "high"
}
```

## å‰ç«¯æ˜¾ç¤ºé€»è¾‘

å½“å‰å‰ç«¯ä»£ç ï¼š
```javascript
// æ¬§æ°è·ç¦»æ˜¾ç¤º
if (euclideanDist !== null && euclideanDist !== undefined) {
    document.getElementById('euclidean-distance').textContent = euclideanDist.toFixed(4);
} else {
    document.getElementById('euclidean-distance').textContent = 'N/A';
}
```

**ç»“è®º**: å°ç« ä½¿ç”¨CLIPæ—¶ï¼Œæ¬§æ°è·ç¦»æ˜¾ç¤º"N/A"æ˜¯**æ­£å¸¸ä¸”æ­£ç¡®**çš„è¡Œä¸ºï¼Œå› ä¸ºCLIPä¸ä½¿ç”¨æ¬§æ°è·ç¦»ã€‚

## ç›¸ä¼¼åº¦å€¼å¯¹æ¯”

| éªŒè¯ç±»å‹ | ç®—æ³• | åº¦é‡æ–¹å¼ | å…¸å‹é˜ˆå€¼ | ç›¸ä¼¼åº¦èŒƒå›´ |
|---------|------|---------|---------|-----------|
| ç­¾å | SigNet | æ¬§æ°è·ç¦» | 0.75 | 0-1 (è·ç¦»â†’ç›¸ä¼¼åº¦è½¬æ¢) |
| å°ç«  | CLIP | ä½™å¼¦ç›¸ä¼¼åº¦ | 0.88 | 0-1 (ç›´æ¥è¾“å‡º) |

## æ•°å­¦åŸç†

### æ¬§æ°è·ç¦» (L2 Distance)
$$d = \sqrt{\sum_{i=1}^{n}(x_i - y_i)^2}$$
- è¡¡é‡å‘é‡ç©ºé—´ä¸­çš„**ç»å¯¹è·ç¦»**
- å¯¹ç‰¹å¾å€¼çš„**ç»å¯¹å¤§å°**æ•æ„Ÿ

### ä½™å¼¦ç›¸ä¼¼åº¦ (Cosine Similarity)
$$\text{similarity} = \frac{A \cdot B}{||A|| \times ||B||} = \cos(\theta)$$
- è¡¡é‡å‘é‡çš„**æ–¹å‘ç›¸ä¼¼æ€§**
- å¯¹ç‰¹å¾å€¼çš„**ç¼©æ”¾ä¸æ•æ„Ÿ**
- L2å½’ä¸€åŒ–åï¼Œä½™å¼¦ç›¸ä¼¼åº¦ = 1 - æ¬§æ°è·ç¦»Â²/2

## æ¨èå®è·µ

### ä½•æ—¶æŸ¥çœ‹æ¬§æ°è·ç¦»
- âœ… ç­¾åéªŒè¯æ—¶ï¼ˆSigNetï¼‰
- âœ… éœ€è¦ç²¾ç¡®åŒ¹é…ç¬”è¿¹ç»†èŠ‚æ—¶
- âœ… è°ƒè¯•é¢„å¤„ç†æ•ˆæœæ—¶

### ä½•æ—¶å¿½ç•¥æ¬§æ°è·ç¦»
- âŒ å°ç« éªŒè¯æ—¶ï¼ˆCLIPï¼Œæ˜¾ç¤ºN/Aï¼‰
- âŒ ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦çš„åœºæ™¯
- âŒ å…³æ³¨æ•´ä½“è§†è§‰ç›¸ä¼¼æ€§æ—¶

---
**ç‰ˆæœ¬**: v2.1  
**æ›´æ–°æ—¶é—´**: 2025-10-08  
**çŠ¶æ€**: âœ… æ­£å¸¸å·¥ä½œ
